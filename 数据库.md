### 数据库设计

软件工程，采用工程的概念、原理、技术和方法来开发与维护软件。

需求分析 ---> E-R图，逻辑结构设计，数据库选型，物理设计，实施以及运维

注：问题定义，可行性分析 ---> 需求分析

##### 1. 需求分析

结构化分析方法，强调开发方法的结构合理性及所开发软件的结构合理性。按照结构化、模块化、自顶向下对系统进行分析与设计。具体如下：

1. 顶层数据流程图，只包含输入、输出以及加工系统；
2. 下层数据流层图，系统内部数据流；

##### 2. 概念设计

将需求分析阶段成果进行综合、归档以及抽象出衣蛾独立具体的DBMS模型。常用E-R图进行表示：

概念设计通常采用自底向上，首先定义各系统局部的概念模型，然后将他们集合起来，得到全局的概念模型；

1. 名词动词形容词分析法

​    **注：数据库设计三范式**

1. 第一范式：确保每个字段保持原子性，不可分割；
2. 第二范式：确保字段完全依赖于主键；即一张表中的字段只有一个实体的属性；
3. 第三范式：必须满足第二范式，实体中每个属性与主键直接相关而不能间接相关；

​    **注：外键**

1. 影响写入性能；
2. 并发问题；在高并发大场景，使用外键造成死锁或者锁等几率变大；

实际开发中，更多不是靠外键来保证数据的完整性和一致性，而是通过业务逻辑；

##### 3. 逻辑设计

将概念数据模型转为具体的DBMS所支持的数据模型，并进行优化（外键、索引、视图等对象的设计工作）

注：在这个阶段，可能存在：属性冲突、命名冲突、结构冲突；将实体与实体之间联系转换为关系模式

##### 4. 数据库选型

设计存储过程、触发器、用户自定义函数、表空间

##### 5. 数据库实施

通过PDM生成数据库建库脚本之后，需要进行规范性检查，通过之后可以创建表结构；

注：规范性检查可以借助开源SQL审核工具，如Yearning

##### 6. 数据库维护

业务支撑，数据库运维
